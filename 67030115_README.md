#include <stdio.h>
#include <driver/gpio.h>
#include <freertos/FreeRTOS.h>
#include <freertos/task.h>

void app_main(void)
{
    // ประกาศตัวแปรเก็บค่าปุ่มและไฟ
    int SW1_Status = 0;   // ค่า SW1 (ปุ่มที่ 1)
    int LED1_status = 0;  // ค่า LED1
    int SW2_Status = 0;   // ค่า SW2 (ปุ่มที่ 2)
    int LED3_status = 0;  // ค่า LED3

    // ตั้งค่าให้ขา 16 และ 18 เป็น OUTPUT (เอาไว้ต่อ LED)
    gpio_set_direction(16, GPIO_MODE_OUTPUT);  
    gpio_set_direction(18, GPIO_MODE_OUTPUT);  

    // ตั้งค่าให้ขา 15 และ 17 เป็น INPUT (เอาไว้ต่อปุ่ม)
    gpio_set_direction(15, GPIO_MODE_INPUT);   
    gpio_set_direction(17, GPIO_MODE_INPUT);   

    while(1) // วนลูปทำงานตลอดเวลา
    {
        // อ่านค่าปุ่ม SW1 (ขา 15)
        SW1_Status = gpio_get_level(15);

        // ถ้ากดปุ่ม SW1 → LED1 (ขา 16) จะติด
        // ถ้าไม่กด → LED1 ดับ
        LED1_status = !SW1_Status;     
        gpio_set_level(16, LED1_status);

        // อ่านค่าปุ่ม SW2 (ขา 17)
        SW2_Status = gpio_get_level(17);

        // ถ้ากดปุ่ม SW2 → LED3 (ขา 18) จะติด
        // ถ้าไม่กด → LED3 ดับ
        LED3_status = !SW2_Status;
        gpio_set_level(18, LED3_status);

        // หน่วงเวลา 0.1 วินาที (100 ms) กันเครื่องอ่านค่าถี่เกินไป
        vTaskDelay(pdMS_TO_TICKS(100));  
    }
}

'''
วิดิโอ
'''
